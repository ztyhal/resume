<!DOCTYPE html>
<html>
  <head>
    <title>张天宇的个人简历</title>
    <link rel="stylesheet" href="./main.css">
    <link rel="stylesheet" href="./loading.css">
    <script src="//at.alicdn.com/t/font_1138415_008x3b3f5rh1t.js"></script>
    <style type="text/css">
      .icon {
         width: 1em; height: 1em;
         vertical-align: -0.15em;
         fill: currentColor;
         overflow: hidden;
      }
      .site-welcome{
        display: none;
        position: fixed;
        top: 0;left: 0;width: 100%;height: 100%;
        background: #888;
        z-index: 1; 
        justify-content: center;
        align-items: center;
      }
      .site-welcome.active{
        display: flex;
      }
  </style>
  </head>
  <body>
    <div id="sitewelcome" class="site-welcome active">
        <div class="loading"></div>
    </div>
    <div id="topNavbar" class="topNavBar">
		<div class="topNavBar-inner clearfix">
				<a class="logo" href="#" alt="logo" style="float: left; ">
						<span class="rs">RS</span><span class="card">card</span>
					  </a>
					  <nav class="menu" style="float: right;">
						<ul class="clearfix">
						  <li><a href="#siteAbout">关于</a></li>   
						  <li><a href="#siteSkills">技能</a></li>
              <li>
                <a  href="#siteWorks">作品</a>
               <ul class="submenu">
                 <li>作品1</li>
                 <li>作品2</li>
                 <li>作品3</li>
               </ul>
             </li>  
						  <li>
                <a href="#">博客</a>
                <ul class="submenu">
                    <li>博客1</li>
                    <li>博客2</li>
                    <li>博客3</li>
                  </ul>
              </li>
						  <li><a href="#">日历</a></li>
						  <li><a href="#">联系方式</a></li>
						  <li><a href="#">其他</a></li>
						</ul>
					  </nav>
		</div>
     
    </div>
    <div class="banner">
      <div class="mask"></div>
    </div>
    <main >
      <div data-x id="siteAbout" class="userCard clearfix ">
        <div class="pictureAndText clearfix" >
          <div class="picture">
            <img src="./img/zty.jpg"width=299 height="300;" alt="头像">
          </div>
          <div class="text">
              <span class="welcome">Hello
                <span class="triangle"></span>
              </span>
              <h1>张天宇</h1>
              <p>前端开发工程师</p>
              <hr>
              <dl> 
                <dt>年龄</dt>
                <dd>20</dd>
                <dt>所在城市</dt>
                <dd>天津</dd>
                <dt>邮箱</dt>
                <dd>782094766@qq.com</dd>
                <dt>手机</dt>
                <dd>13812345678</dd>
                <dt>毕业院校</dt>
                <dd>天津理工大学中环信息学院</dd>
              </dl>
          </div>
        </div>
        <footer class="media">
          <a href="#"><svg class="icon" aria-hidden="true">
              <use xlink:href="#iconweixin"></use>
          </svg></a>
          <a href="#"><svg class="icon" aria-hidden="true">
              <use xlink:href="#iconqq"></use>
          </svg></a>
          <a href="#"><svg class="icon" aria-hidden="true">
              <use xlink:href="#iconzhihu"></use>
          </svg></a>
          <a href="#"><svg class="icon" aria-hidden="true">
              <use xlink:href="#icongithub"></use>
          </svg></a>
          <a href="#"><svg class="icon" aria-hidden="true">
              <use xlink:href="#iconweibo"></use>
          </svg></a>
        </footer>
      </div>
      <p class="downResume-wrapper">
          <a class="downloadResume" href="./resume.txt"    download>下载 PDF 简历</a>
      </p>
     
        <p class="selfIntroduction">
          张天宇， 资深前端工程师，资深前端讲师，现在在 饥人谷 教前端课程。<br>
          技能：前端开发，Recat 开发，Node.js 开发
        </p>
  
      </main>
      <section data-x id="siteSkills" class="skills">
        <h2>技能</h2>
        <ol class="clearfix">
          <li>
            <h3>
                HTML 5 &amp; CSS 3
            </h3>
            <div class="progressBar">
              <div class="progress" style="width: 48%"></div>
            </div>
          </li>
          <li>
              <h3>
                 JavaScript
              </h3>
              <div class="progressBar">
                <div class="progress" style="width: 52%"></div>
              </div>
            </li>
            <li>
                <h3>
                    jQuery
                </h3>
                <div class="progressBar">
                  <div class="progress" style="width: 37%"></div>
                </div>
              </li>
              <li>
                  <h3>
                      Vue.js
                  </h3>
                  <div class="progressBar">
                    <div class="progress" style="width: 62%"></div>
                  </div>
                </li>
                <li>
                    <h3>
                        Node.js
                    </h3>
                    <div class="progressBar">
                      <div class="progress" style="width: 80%"></div>
                    </div>
                  </li>
                  <li>
                      <h3>
                          React.js
                      </h3>
                      <div class="progressBar">
                        <div class="progress" style="width: 60%"></div>
                      </div>
                    </li>
                   
        </ol>
      </section>
      <section data-x id="siteWorks" class="portfolio">
        <h2>作品集</h2>
        <nav>
          <ol class="clearfix">
            <li id="portfolio1">所有</li>
            <li id="portfolio2">框架</li>
            <li id="portfolio3">原生JS&amp;CSS</li>
          </ol>
          <div id="portfolioBar" class="bar state-1" >
            <div class="bar-inner"></div>
          </div>
        </nav>
        <script>
        portfolio1.onclick= function(){
          portfolioBar.className='bar state-1'
        }
        portfolio2.onclick= function(){
          portfolioBar.className='bar state-2'
        }
        portfolio3.onclick= function(){
          portfolioBar.className='bar state-3'
        }
        </script>
        <div class="works" style="height: 597px;">
          <div class="big" style="top: 0; left: 0;">
            <img src="./img/big.jpg" alt="作品1">
          </div>
          <div class="small" style="top: 0; left: 645px;">
            <img src="./img/small1.jpg" alt="作品2">
          </div>
          <div class="small" style="top: 299px; left: 645px;">
            <img src="./img/small2.jpg" alt="作品3">
          </div>
        </div>
  
      </section>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.4.0/Tween.min.js"></script>
      <script>
       setTimeout(function(){
         sitewelcome.classList.remove('active')
       },100)
       let specialTags = document.querySelectorAll('[data-x]')
         for(let i = 0;i<specialTags.length;i++){
          specialTags[i].classList.add('offset')
         }
        setTimeout(function(x){
          yyy()
        },250)
       window.onscroll = function(xxx){
         if(window.scrollY > 0){
           topNavbar.classList.add('sticky')
         }else{
           topNavbar.classList.remove('sticky')
         }
         yyy()
       }

       function yyy(){
        let specialTags = document.querySelectorAll('[data-x]')
         let minIndex = 0
         for(let i = 1;i<specialTags.length;i++){
          if (Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minIndex] .offsetTop- window.scrollY)){
            minIndex = i
          }
         }
        specialTags[minIndex].classList.remove('offset')
         let id = specialTags[minIndex].id
         let a = document.querySelector('a[href="#'+id+'"]')
         let li = a.parentNode
         let bortherAndMe = li.parentNode.children
         for(let i=0;i<bortherAndMe.length;i++){
          bortherAndMe[i].classList.remove('highlight')
         } 
         li.classList.add('highlight')
       }
       let liTags =document.querySelectorAll('nav.menu > ul > li')
       for(let i = 0;i<liTags.length;i++){
         liTags[i].onmouseenter = function(x){
          x.currentTarget.classList.add('active')
         }
        liTags[i].onmouseleave = function(x){
          x.currentTarget.classList.remove('active')
        }
       }
       let aTags = document.querySelectorAll('nav.menu > ul >li > a')
       function animate(time) {
        requestAnimationFrame(animate);
        TWEEN.update(time);
        }
       requestAnimationFrame(animate);

        
       for(let i=0; i<aTags.length;i++){
         aTags[i].onclick=function(x){
           x.preventDefault()
           let a = x.currentTarget
           let href = a.getAttribute('href')
           let element = document.querySelector(href)
           let top = element.offsetTop
          
            let currentTop = window.scrollY
            let targetTop = top -80
            let s = targetTop - currentTop
            var coords = { y: currentTop }; 
            var t = Math.abs(s/100)*300
            if(t>500){
              t = 500
            }
            var tween = new TWEEN.Tween(coords)
            .to({ y: targetTop },t)
            .easing(TWEEN.Easing.Quadratic.InOut) 
            .onUpdate(function() { 
            window.scrollTo(0,coords.y)
        })
            .start();
         }
       }
      </script>
  </body>
</html>
